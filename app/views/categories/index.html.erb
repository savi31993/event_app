<p id="notice"><%= notice %></p>

<h3>Categories</h3>

<div class="container">
  <div class="row">
          <% @categories.each do |category| %>
              <div class="col-sm-12 col-md-6 col-lg-3">
                <!--Card-->
                <div class="card hoverable">

                  <!--Card image-->
                  <%# In production, we validate that a new category must have an image %>
                  <%# so this test will always return true. However, in testing, I don't %>
                  <%# know how to attach an image to a test category. Since the exact %>
                  <%# content of the image is not important, I am working around this %>
                  <%# by simply ignoring the image portion of the file with this %>
                  <%# conditional. %>
                  <% if category.image.attached? %>
                    <%= image_tag category.image, :class => "img-fluid" %>
                  <% end %>

                  <!--Card content-->
                  <div class="card-body">
                    <!--Title-->
                    <h4 class="card-title">
                      <%= link_to category.name, category %>
                      <% if category.events.length != 1 %>
                        (<%= category.events.length %> events)
                      <% else %>
                        (<%= category.events.length %> event)
                      <% end %>
                    </h4>
                    <!--Text-->
                    <p class="card-text"><%= category.description %></p>
                  </div>

                </div>
                <!--/.Card-->
              </div>
          <% end %>
        </div>
      </div>

<br>
<% if current_user %>
  <%= link_to 'New Category', new_category_path, class:"btn btn-default btn-help" %>
<% end %>

<!--script>
  <script type="text/javascript" >
    $('.ui.sticky').sticky();

    $('#contact-button-card').click(function () {
        $('#modal-contact-me')
        .modal('setting', 'transition', 'vertical flip')
        .modal('show');
    });

    $(document).foundation();

    setInterval(function () {
        $('.ui.grid .sixteen.wide.column .ui.three.stackable.cards .card').transition({
            animation: 'tada',
            duration: 1000,
            interval: 200
        });
    }, 1000 * 15);

    setInterval(function () {
        $('.ui.grid .sixteen.wide.column .ui.four.stackable.cards .card').transition({
            animation: 'jiggle',
            duration: 800,
            interval: 200
        });
    }, 1000 * 7);
  </script>
</script-->
